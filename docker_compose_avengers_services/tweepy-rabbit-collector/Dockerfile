FROM python:3.6
LABEL maintainer 'Marku Vinicius <markuvinicius@gmail.com>'

WORKDIR /app
COPY ./ /app

ARG CONSUMER_TOKEN
ARG CONSUMER_SECRET
ARG API_KEY
ARG API_SECRET
ARG APPLICATION_ENVIRONMENT


ENV TWITTER_CONSUMER_TOKEN ${CONSUMER_TOKEN}
ENV TWITTER_CONSUMER_SECRET ${CONSUMER_SECRET}
ENV TWITTER_API_KEY ${API_KEY}
ENV TWITTER_API_SECRET ${API_SECRET}
ENV APPLICATION_ENVIRONMENT ${APPLICATION_ENVIRONMENT}

RUN pip3 install --upgrade pip
RUN pip3 install -r requirements.txt 

ENTRYPOINT ["bash","./run_posts_data.sh"]